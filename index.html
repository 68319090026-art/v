<!DOCTYPE html>
<html lang="th">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Viewvi Smart Home Pro</title>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;500;700&display=swap" rel="stylesheet">
    <style>
        :root { --neon-blue: #00f2ff; --neon-red: #ff0055; --neon-green: #39ff14; }
        body { 
            font-family: 'Kanit', sans-serif; 
            background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('https://images.unsplash.com/photo-1507525428034-b723cf961d3e?auto=format&fit=crop&w=1920&q=80');
            background-size: cover; background-attachment: fixed;
            margin: 0; padding: 20px; color: #fff; display: flex; justify-content: center;
        }
        .dashboard {
            background: rgba(255, 255, 255, 0.1); backdrop-filter: blur(20px);
            border-radius: 40px; padding: 40px; width: 100%; max-width: 900px;
            border: 1px solid rgba(255,255,255,0.2); box-shadow: 0 25px 50px rgba(0,0,0,0.5);
        }
        .header { font-size: 2rem; font-weight: 700; margin-bottom: 30px; text-shadow: 0 0 10px var(--neon-blue); }
        
        .main-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 20px; }
        
        .card {
            background: rgba(0, 0, 0, 0.3); border-radius: 25px; padding: 25px;
            border: 1px solid rgba(255,255,255,0.1); position: relative;
        }

        /* ‡∏´‡∏•‡∏≠‡∏î‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡πÄ‡∏£‡∏∑‡∏≠‡∏á‡πÅ‡∏™‡∏á */
        .temp-meter {
            width: 40px; height: 180px; background: #111; border-radius: 20px;
            margin: 0 auto 15px; border: 2px solid #333; position: relative; overflow: hidden;
        }
        #temp-fill {
            position: absolute; bottom: 0; width: 100%; height: 0%;
            background: linear-gradient(to top, var(--neon-blue), #ff00ff);
            box-shadow: 0 0 20px var(--neon-blue); transition: height 1s ease-in-out;
        }

        .val-text { font-size: 2.8rem; font-weight: 700; color: var(--neon-blue); }
        .label { font-size: 0.9rem; opacity: 0.7; letter-spacing: 1px; }

        /* ‡∏Å‡∏•‡πà‡∏≠‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏ */
        .security-box { border: 2px solid rgba(255,255,255,0.1); transition: 0.5s; }
        .status-pill {
            display: inline-block; padding: 8px 20px; border-radius: 50px;
            font-weight: 700; margin-top: 15px; font-size: 1.1rem;
        }
        .normal { background: rgba(57, 255, 20, 0.2); color: var(--neon-green); border: 1px solid var(--neon-green); }
        .alert { background: rgba(255, 0, 85, 0.2); color: var(--neon-red); border: 1px solid var(--neon-red); animation: pulse 1s infinite; }

        /* ‡πÅ‡∏ú‡∏á‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° LED & Buzzer */
        .control-panel {
            display: flex; justify-content: space-around; margin-top: 30px;
            padding: 20px; background: rgba(255,255,255,0.05); border-radius: 20px;
        }
        .led-indicator {
            width: 35px; height: 35px; border-radius: 50%; background: #222;
            margin: 10px auto; border: 3px solid #444; transition: 0.3s;
        }
        .led-blue.active { background: var(--neon-blue); box-shadow: 0 0 20px var(--neon-blue); }
        .led-red.active { background: var(--neon-red); box-shadow: 0 0 20px var(--neon-red); }

        @keyframes pulse { 0% { opacity: 1; } 50% { opacity: 0.5; } 100% { opacity: 1; } }
    </style>
</head>
<body>

<div class="dashboard">
    <div class="header">üè† VIEWVI SMART MONITORING PRO</div>
    
    <div class="main-grid">
        <div class="card">
            <div class="label">TEMPERATURE</div>
            <div class="temp-meter"><div id="temp-fill"></div></div>
            <div class="val-text"><span id="t-val">--</span>¬∞</div>
        </div>

        <div class="card">
            <div class="label">HUMIDITY</div>
            <div class="val-text" id="h-val" style="color: var(--neon-green);">--</div>
            <div style="margin-top: 20px;" class="label">SOIL MOISTURE</div>
            <div class="val-text" id="s-val" style="color: #ffaa00;">--</div>
        </div>

        <div class="card security-box" id="sec-card">
            <div class="label">OBJECT DETECTION</div>
            <div id="sec-icon" style="font-size: 3.5rem; margin: 15px 0;">üõ°Ô∏è</div>
            <div id="sec-status" class="status-pill normal">‡∏õ‡∏Å‡∏ï‡∏¥</div>
        </div>
    </div>

    <div class="control-panel">
        <div>
            <div class="label">LED 1 (TEMP)</div>
            <div id="led1" class="led-indicator led-blue"></div>
        </div>
        <div>
            <div class="label">LED 2 (OBJECT)</div>
            <div id="led2" class="led-indicator led-red"></div>
        </div>
        <div>
            <div class="label">BUZZER</div>
            <div id="buz-icon" style="font-size: 1.5rem; margin-top: 10px;">üîá</div>
            <div id="buz-text" style="font-size: 0.8rem; opacity: 0.6;">SILENT</div>
        </div>
    </div>
</div>

<script>
    const firebaseConfig = { databaseURL: "https://viewvi-3e5ef-default-rtdb.firebaseio.com" };
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    db.ref("/").on("value", (snapshot) => {
        const data = snapshot.val();
        if (data) {
            // ‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥ (temperature)
            const temp = data.temperature || 0;
            document.getElementById("t-val").innerText = temp;
            document.getElementById("temp-fill").style.height = Math.min((temp/50)*100, 100) + "%";
            if(temp > 30) document.getElementById("led1").classList.add("active");
            else document.getElementById("led1").classList.remove("active");

            // ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô‡∏≠‡∏≤‡∏Å‡∏≤‡∏® & ‡∏î‡∏¥‡∏ô
            document.getElementById("h-val").innerText = (data.Humidity || "--") + "%";
            document.getElementById("s-val").innerText = (data.Soil || "--") + "%";

            // ‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ (Security)
            const secStatus = document.getElementById("sec-status");
            const secCard = document.getElementById("sec-card");
            const led2 = document.getElementById("led2");
            const buzI = document.getElementById("buz-icon");
            const buzT = document.getElementById("buz-text");

            if (data.Security === 1) {
                secStatus.innerText = "‡πÑ‡∏°‡πà‡∏õ‡∏Å‡∏ï‡∏¥ - ‡∏û‡∏ö‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏!";
                secStatus.className = "status-pill alert";
                secCard.style.borderColor = "var(--neon-red)";
                led2.classList.add("active");
                buzI.innerText = "üîä";
                buzT.innerText = "‡∏°‡∏µ‡πÄ‡∏™‡∏µ‡∏¢‡∏á";
            } else {
                secStatus.innerText = "‡∏õ‡∏Å‡∏ï‡∏¥";
                secStatus.className = "status-pill normal";
                secCard.style.borderColor = "rgba(255,255,255,0.1)";
                led2.classList.remove("active");
                buzI.innerText = "üîá";
                buzT.innerText = "‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏™‡∏µ‡∏¢‡∏á";
            }
        }
    });
</script>
</body>
</html>
